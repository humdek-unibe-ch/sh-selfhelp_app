platforms:
  android:

    appName: Habirupt
    versionName: 3.1.0
    versionCode: 1
    incrementVersionCode: true

    manifest:
      - file: AndroidManifest.xml
        target: manifest/application
        attrs:
          android:name: unibe.tpf.habirupt

      - file: AndroidManifest.xml
        target: manifest
        inject: |
          <queries>
              <intent>
                  <action android:name="android.intent.action.MAIN" />
                  <category android:name="android.intent.category.LAUNCHER" />
              </intent>
          </queries>

    gradle:
      - file: app/build.gradle
        target:
          dependencies:
        insert: |
          implementation "com.stripe:stripe-java:20.133.0"

    res:
      - path: raw
        file: config.json
        text: |
          {
            "value": true
          }

      - path: drawable
        file: icon.png
        source: ./resources/habirupt/icon.png
      - path: drawable
        file: splash.png
        source: ./resources/habirupt/splash.png

    copy:
      - src: ./google-services.json
        dest: app/google-services.json

  ios:
    version: 3.1.0
